# 1. 用户账号的管理

## 1.1. 添加账号 useradd

```bash
useradd -选项 用户名
```

-m： 自动创建这个用户的主目录

本质：Linux中一切皆文件，增加用户账号就是在`/etc/passwd`文件中为新用户增加一条记录，同时更新其他系统文件如`/etc/shadow`, `/etc/group`等。

- 选项 :

- - -c comment 指定一段注释性描述。
  - -d 目录 指定用户主目录，如果此目录不存在，则同时使用-m选项，可以创建主目录。
  - -g 用户组 指定用户所属的用户组。
  - -G 用户组，用户组 指定用户所属的附加组。
  - -m　使用者目录如不存在则自动建立。
  - -s Shell文件 指定用户的登录Shell。
  - -u 用户号 指定用户的用户号，如果同时有-o选项，则可以重复使用其他用户的标识号。

- 用户名 :

- - 指定新账号的登录名。

## 1.2. Linux下如何切换用户

1.切换用户的命令为：su username 【username是你的用户名哦】

2.从普通用户切换到root用户，还可以使用命令：sudo su

3.在终端输入exit或logout或使用快捷方式ctrl+d，可以退回到原来用户，其实ctrl+d也是执行的exit命令

4.在切换用户时，如果想在切换用户之后使用新用户的工作环境，可以在su和username之间加-，例如：【su - root】

$表示普通用户

\#表示超级用户，也就是root用户



## 1.3. 删除账号

```bash
userdel -选项 用户名
```

常用的选项是 **-r**，它的作用是把用户的主目录一起删除。

此命令删除用户kuangshen在系统文件中（主要是/etc/passwd, /etc/shadow, /etc/group等）的记录，同时删除用户的主目录。



## 1.4. 修改账号

```bash
usermod 选项 用户名
```

```bash
usermod -s /bin/ksh -d /home/z -g developer xiaofan
```

此命令将用户xiaofan的登录Shell修改为ksh，主目录改为/home/z，用户组改为developer。(前提是这个组必须得先存在)



# 2. 用户口令管理

```
passwd -选项 用户名
```

可使用的选项：

- -l 锁定口令，即禁用账号。
- -u 口令解锁。
- -d 使账号无口令。
- -f 强迫用户下次登录时修改口令。



例如，假设当前用户是kuangshen，则下面的命令修改该用户自己的口令：

```
$ passwd 
Old password:******
New password:*******
Re-enter new password:*******
```

如果是超级用户，可以用下列形式指定任何用户的口令：

```
# passwd kuangshen
New password:*******
Re-enter new password:*******
```

普通用户修改自己的口令时，passwd命令会先询问原口令，验证后再要求用户输入两遍新口令，如果两次输入的口令一致，则将这个口令指定给用户；而超级用户为用户指定口令时，就不需要知道原口令。

为了系统安全起见，用户应该选择比较复杂的口令，例如最好使用8位长的口令，口令中包含有大写、小写字母和数字，并且应该与姓名、生日等不相同。



# 3. 用户组管理

## 3.1. 增加一个新的用户组使用groupadd命令

```
groupadd -选项 用户组
```

- groupadd developer 增加用户组 developer

## 3.2. 删除用户组

```bash
groupdel 用户组
```

## 3.3. 切换组

如果一个用户同时属于多个用户组，那么用户可以在用户组之间切换，以便具有其他用户组的权限。

用户可以在登录后，使用命令newgrp切换到其他用户组，这个命令的参数就是目的用户组。例如：

```
$ newgrp root
```

这条命令将当前用户切换到root用户组，前提条件是root用户组确实是该用户的主组或附加组。

## 3.4. [[linux用户添加到多个组]](https://www.cnblogs.com/654wangzai321/p/8021573.html)



